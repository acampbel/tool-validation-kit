name: Run MATLAB Tests on self-hosted runner
on: [push]
jobs:
  my-job:
    name: Run MATLAB Tests
    runs-on: self-hosted
    steps:
      - name: Check out repository
        uses: actions/checkout@v4
        with:
          lfs: 'true'
          submodules: 'recursive'
          ssh-key: ${{ secrets.ssh_key }}
      - name: Run tests
        uses: matlab-actions/run-tests@v2
        with: 
          test-results-junit: test-results/results.xml
          logging-level: detailed